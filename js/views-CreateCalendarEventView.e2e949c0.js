"use strict";(self["webpackChunkdnd_campaign_companion"]=self["webpackChunkdnd_campaign_companion"]||[]).push([[98],{7307:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var i=n(3396),r=n(9242),a=n(7139);const o=e=>((0,i.dD)("data-v-8867fc94"),e=e(),(0,i.Cn)(),e),u={class:"form-row"},l=o((()=>(0,i._)("legend",null,"Date",-1))),s={class:"day-input-container"},d=o((()=>(0,i._)("label",{for:"day-input"},"Day",-1))),m={class:"month-input-container"},p=o((()=>(0,i._)("label",{for:"month-input"},"Month",-1))),h=["value"],c={class:"year-input-container"},y=o((()=>(0,i._)("label",{for:"year-input"},"Year",-1))),_={class:"time-input form-row"},b=o((()=>(0,i._)("legend",null,"Time",-1))),f=o((()=>(0,i._)("label",{for:"start-time-hour-input"},"Start time",-1))),v={class:"form-row"},T=o((()=>(0,i._)("label",{for:"end-time-hour-input"},"End time",-1))),w={class:"form-row"},g={class:"description-input-container"},M=o((()=>(0,i._)("label",{for:"description-input"},"Description",-1))),S=o((()=>(0,i._)("button",{type:"submit"},"Add event",-1))),V=o((()=>(0,i._)("p",null," Custom events are not available on other devices. Safari users should add this site to their homescreen, otherwise the events are automatically deleted after 7 days. ",-1)));function D(e,t,n,o,D,H){return(0,i.wg)(),(0,i.iD)("form",{onSubmit:t[8]||(t[8]=(...e)=>H.onSubmit&&H.onSubmit(...e)),class:"new-event-form"},[(0,i._)("fieldset",u,[l,(0,i._)("div",s,[d,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>D.day=e),type:"number",id:"day-input",required:""},null,512),[[r.nr,D.day]])]),(0,i._)("div",m,[p,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>D.month=e),id:"month-input"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.calendar.monthNames,(e=>((0,i.wg)(),(0,i.iD)("option",{value:e,key:e},(0,a.zw)(e),9,h)))),128))],512),[[r.bM,D.month]])]),(0,i._)("div",c,[y,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>D.year=e),type:"number",id:"year-input",required:""},null,512),[[r.nr,D.year]])])]),(0,i._)("fieldset",_,[b,(0,i._)("div",null,[f,(0,i._)("div",v,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>D.startTimeHour=e),type:"number",id:"start-time-hour-input"},null,512),[[r.nr,D.startTimeHour]]),(0,i.Uk)(" : "),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>D.startTimeMinute=e),type:"number"},null,512),[[r.nr,D.startTimeMinute]])])]),(0,i._)("div",null,[T,(0,i._)("div",w,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>D.endTimeHour=e),type:"number",id:"end-time-hour-input"},null,512),[[r.nr,D.endTimeHour]]),(0,i.Uk)(" : "),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>D.endTimeMinute=e),type:"number"},null,512),[[r.nr,D.endTimeMinute]])])])]),(0,i._)("div",g,[M,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>D.description=e),type:"text",id:"description-input",required:""},null,512),[[r.nr,D.description]])]),S,V],32)}n(7658);var H=n(4642),U=n(2020),C=n(3381),k={name:"CreateCalendarEventView",props:{calendar:{required:!0,type:Object}},data(){return{day:this.$route.query.day,month:this.$route.query.month,year:this.$route.query.year,startTimeHour:null,startTimeMinute:null,endTimeHour:null,endTimeMinute:null,description:null}},mounted(){(0,C.prefetchComponents)(U.Component.CalendarDayView)},methods:{onSubmit(e){e.preventDefault(),e.stopPropagation();let t,n=this.getTimeString();t=""===n?[this.description]:[n,this.description];let i=localStorage.getObject(this.calendar.localStorageKey);null==i&&(i={}),(0,H.prepareEventsObject)(i,this.day,this.month,this.year),i[this.year][this.month][this.day].push(t),(0,H.sortEvents)(i),localStorage.setObject(this.calendar.localStorageKey,i),this.goToDayView()},getTimeString(){let e="";return this.startTimeHour&&(e+=this.startTimeHour+":",this.startTimeMinute?e+=this.startTimeMinute:e+="00"),this.endTimeHour&&(e+="-"+this.endTimeHour+":",this.endTimeMinute?e+=this.endTimeMinute:e+="00"),e},goToDayView(){let e=this.$route.path.split("/").slice(0,-1).join("/"),t=[e,this.year,this.month,this.day].join("/");this.$router.push(t)}}},q=n(89);const j=(0,q.Z)(k,[["render",D],["__scopeId","data-v-8867fc94"]]);var $=j}}]);
//# sourceMappingURL=views-CreateCalendarEventView.e2e949c0.js.map