"use strict";(self["webpackChunkdnd_campaign_companion"]=self["webpackChunkdnd_campaign_companion"]||[]).push([[89,472],{6162:function(e,o,t){t.r(o),t.d(o,{default:function(){return p}});var n=t(3396);const a={ref:"docWrapper",class:"google-doc"};function s(e,o,t,s,r,c){const i=(0,n.up)("LoadIcon"),d=(0,n.up)("CenterToScreen");return(0,n.wg)(),(0,n.iD)("div",a,[r.showLoadIcon&&t.centerLoadIcon?((0,n.wg)(),(0,n.j4)(d,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{message:this.loadMessage},null,8,["message"])])),_:1})):r.showLoadIcon&&!t.centerLoadIcon?((0,n.wg)(),(0,n.j4)(i,{key:1,message:this.loadMessage},null,8,["message"])):(0,n.kq)("",!0)],512)}var r=t(4474),c=t(7378),i=t(8245),d={name:"GoogleDocView",components:{CenterToScreen:r["default"],LoadIcon:c["default"]},props:{src:{type:String,required:!0},centerLoadIcon:{type:Boolean,default:!0}},data(){return{isDestroyed:!1,showLoadIcon:!0,loadMessage:"",maxArtificialLoadTime:(0,i.randomUniform)(2500,4e3)}},mounted(){this.loadGoogleDoc()},unmounted(){this.xhr.abort(),this.isDestroyed=!0},methods:{async loadGoogleDoc(){this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.src,!0),this.xhr.onload=async()=>{let o=Math.max(this.maxArtificialLoadTime-(Date.now()-e),0);if(await(0,i.sleep)(o),this.isDestroyed)return;let t=this.$refs.docWrapper,n=this.parseResponse(this.xhr.responseText);t.appendChild(n),this.showLoadIcon=!1};let e=Date.now();this.xhr.send(),this.loadMessage="Fetching document",await(0,i.sleep)((0,i.randomUniform)(1500,2500)),this.loadMessage="Parsing data"},parseResponse(e){let o=new DOMParser;const t=o.parseFromString(e,"text/html");let n=t.getElementsByTagName("a");for(let a of n)if(""!=a.hash){let e=t.getElementById(a.hash.slice(1));a.onclick=o=>{o.preventDefault(),o.stopPropagation(),e.scrollIntoView({behavior:"smooth"})}}return t.documentElement}}},l=t(89);const h=(0,l.Z)(d,[["render",s],["__scopeId","data-v-40a7aa71"]]);var p=h},6755:function(e,o,t){t.r(o),t.d(o,{default:function(){return h}});var n=t(3396);const a={class:"image-doc-container"},s=["src"];function r(e,o,t,r,c,i){const d=(0,n.up)("GoogleDoc");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("img",{src:t.imgSrc},null,8,s),(0,n.Wm)(d,{src:t.docSrc,centerLoadIcon:!1},null,8,["src"])])}var c=t(6162),i={name:"ImageDocView",components:{GoogleDoc:c["default"]},props:{docSrc:{type:String,required:!0},imgSrc:{type:String,required:!0}}},d=t(89);const l=(0,d.Z)(i,[["render",r],["__scopeId","data-v-4cd1e1e8"]]);var h=l}}]);
//# sourceMappingURL=views-ImageDocView.78b05cbd.js.map