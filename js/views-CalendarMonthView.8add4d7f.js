"use strict";(self["webpackChunkdnd_campaign_companion"]=self["webpackChunkdnd_campaign_companion"]||[]).push([[621,815,132,752],{602:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(3396);const s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},i=(0,a._)("path",{d:"M28.05 36 16 23.95 28.05 11.9l2.15 2.15-9.9 9.9 9.9 9.9Z"},null,-1),o=[i];function r(e,t){return(0,a.wg)(),(0,a.iD)("svg",s,o)}var l=n(89);const c={},d=(0,l.Z)(c,[["render",r]]);var h=d},8202:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(3396);const s={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},i=(0,a._)("path",{d:"m18.75 36-2.15-2.15 9.9-9.9-9.9-9.9 2.15-2.15L30.8 23.95Z"},null,-1),o=[i];function r(e,t){return(0,a.wg)(),(0,a.iD)("svg",s,o)}var l=n(89);const c={},d=(0,l.Z)(c,[["render",r]]);var h=d},1882:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var a=n(3396),s=n(7139);const i={class:"calendar-event"};function o(e,t,n,o,r,l){return(0,a.wg)(),(0,a.iD)("div",i,(0,s.zw)(n.event[n.event.length-1]),1)}var r={name:"CalendarEvent",props:{event:{type:Object,required:!0}}},l=n(89);const c=(0,l.Z)(r,[["render",o],["__scopeId","data-v-4de39ad4"]]);var d=c},5860:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var a=n(3396),s=n(7139);const i={class:"calendar-view-container"},o={class:"title-container"},r={class:"calendar-title"},l={class:"calendar-container"},c={class:"day-name-container"},d={ref:"monthContainer",class:"month-container"},h=["onClick"],u={class:"day-count"},v={key:0,class:"event-container"};function m(e,t,n,m,g,p){const w=(0,a.up)("ChevronLeft"),y=(0,a.up)("ChevronRight"),f=(0,a.up)("CalendarEvent");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",o,[(0,a.Wm)(w,{onClick:p.goToPreviousMonth},null,8,["onClick"]),(0,a._)("div",r,(0,s.zw)(g.month)+" - "+(0,s.zw)(g.year),1),(0,a.Wm)(y,{onClick:p.goToNextMonth},null,8,["onClick"])]),(0,a._)("div",l,[(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.dayNames,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"day-name calendar-item"},(0,s.zw)(e.slice(0,3)),1)))),128))]),(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.nDays,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"day-container calendar-item",key:e,onClick:t=>p.goToDayView(e)},[(0,a._)("div",u,(0,s.zw)(e),1),null!=g.events?((0,a.wg)(),(0,a.iD)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.events[e],(e=>((0,a.wg)(),(0,a.j4)(f,{event:e,key:e},null,8,["event"])))),128))])):(0,a.kq)("",!0)],8,h)))),128))],512)])])}n(7658);var g=n(1882),p=n(602),w=n(8202),y=n(4642),f=n(2020),C=n(3381),k=n(8245),D={name:"CalendarMonthView",components:{CalendarEvent:g["default"],ChevronLeft:p["default"],ChevronRight:w["default"]},props:{calendar:{type:Object,required:!0}},data(){return{year:parseInt(this.$route.params.year),month:this.$route.params.month,events:{},nDays:null,nWeeks:null,dayNames:null}},mounted(){(0,C.prefetchComponents)(f.Component.CalendarDayView);let e=localStorage.getObject(this.calendar.localStorageKey),t=[this.year,this.month];if(e&&(0,k.objectContainsKeys)(e,t)&&(this.events=e[this.year][this.month]),(0,k.objectContainsKeys)(this.calendar.events,t))for(let s in this.calendar.events[this.year][this.month]){let e=this.calendar.events[this.year][this.month][s];(0,k.objectContainsKeys)(this.events,[s])?this.events[s].push(...e):this.events[s]=e}(0,y.sortEvents)(this.events),this.nWeeks=this.calendar.weeksPerMonth,this.nDays=this.nWeeks*this.calendar.dayNames.length,this.dayNames=this.calendar.dayNames,window.addEventListener("resize",this.setCalendarHeight),this.setCalendarHeight();let n=document.getElementById("content-wrapper"),a=window.getComputedStyle(n);"visible"!=a.overflow&&n.classList.add("content-wrapper-firefox")},unmounted(){window.removeEventListener("resize",this.setCalendarHeight),document.getElementById("content-wrapper").classList.remove("content-wrapper-firefox")},methods:{setCalendarHeight(){let e=this.$refs.monthContainer;e.style.height=document.documentElement.clientHeight-e.getBoundingClientRect().top-1+"px"},goToDayView(e){let t=this.$route.path+"/"+e;this.$router.push(t)},goToDate(e,t){let n=this.$route.path.split("/").slice(0,-2).join("/"),a=[n,t,e].join("/");this.$router.push(a)},goToPreviousMonth(){let e=this.calendar.monthNames.indexOf(this.month)+1,[t,n]=(0,y.getPreviousMonth)(e,this.year,this.calendar),a=this.calendar.monthNames[t-1];this.goToDate(a,n)},goToNextMonth(){let e=this.calendar.monthNames.indexOf(this.month)+1,[t,n]=(0,y.getNextMonth)(e,this.year,this.calendar),a=this.calendar.monthNames[t-1];this.goToDate(a,n)}}},_=n(89);const b=(0,_.Z)(D,[["render",m],["__scopeId","data-v-79beb8ab"]]);var x=b}}]);
//# sourceMappingURL=views-CalendarMonthView.8add4d7f.js.map