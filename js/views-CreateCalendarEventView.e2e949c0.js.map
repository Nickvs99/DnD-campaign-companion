{"version":3,"file":"js/views-CreateCalendarEventView.e2e949c0.js","mappings":"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","sources":["webpack://dnd-campaign-companion/./src/views/CreateCalendarEventView.vue","webpack://dnd-campaign-companion/./src/views/CreateCalendarEventView.vue?c9c2"],"sourcesContent":["<template>\r\n    \r\n<form v-on:submit=\"onSubmit\" class=\"new-event-form\">\r\n    \r\n    <fieldset class=\"form-row\">\r\n        <legend>Date</legend>\r\n        <div class=\"day-input-container\">\r\n            <label for=\"day-input\">Day</label>\r\n            <input v-model=\"day\" type=\"number\" id=\"day-input\" required>\r\n        </div>\r\n        <div class=\"month-input-container\">\r\n            <label for=\"month-input\">Month</label>            \r\n            <select v-model=\"month\" id=\"month-input\">\r\n                <option v-for=\"monthName in calendar.monthNames\" :value=\"monthName\" :key=\"monthName\">{{ monthName }}</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"year-input-container\">\r\n            <label for=\"year-input\">Year</label>\r\n            <input v-model=\"year\" type=\"number\" id=\"year-input\" required>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset class=\"time-input form-row\">\r\n        <legend>Time</legend>\r\n        <div>\r\n            <label for=\"start-time-hour-input\">Start time</label>\r\n            <div class=\"form-row\">\r\n                <input v-model=\"startTimeHour\" type=\"number\" id=\"start-time-hour-input\">\r\n                :\r\n                <input v-model=\"startTimeMinute\" type=\"number\">\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <label for=\"end-time-hour-input\">End time</label>\r\n\r\n            <div class=\"form-row\">\r\n                <input v-model=\"endTimeHour\" type=\"number\" id=\"end-time-hour-input\">\r\n                :\r\n                <input v-model=\"endTimeMinute\" type=\"number\">\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class=\"description-input-container\">\r\n        <label for=\"description-input\">Description</label>\r\n        <input v-model=\"description\" type=\"text\" id=\"description-input\" required>\r\n    </div>\r\n\r\n    <button type=\"submit\">Add event</button>\r\n\r\n    <p>\r\n        Custom events are not available on other devices. Safari users should add this site to their homescreen, \r\n        otherwise the events are automatically deleted after 7 days.\r\n    </p>\r\n</form>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport { prepareEventsObject, sortEvents } from \"@/router/calendarUtil.js\";\r\nimport { Component } from \"@/router/lazyLoadComponents.js\";\r\nimport { prefetchComponents } from \"@/router/util.js\";\r\n\r\nexport default {\r\n    name: \"CreateCalendarEventView\",\r\n    props: {\r\n        calendar: {\r\n            required: true,\r\n            type: Object,\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            day: this.$route.query.day,\r\n            month: this.$route.query.month,\r\n            year: this.$route.query.year,\r\n            startTimeHour: null,\r\n            startTimeMinute: null,\r\n            endTimeHour: null,\r\n            endTimeMinute: null,\r\n            description: null,\r\n        };\r\n    },\r\n    mounted() {\r\n        prefetchComponents(Component.CalendarDayView);\r\n    },\r\n    methods: {\r\n        onSubmit(event) {\r\n            \r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n\r\n            let timeString = this.getTimeString();\r\n\r\n            let evt;\r\n            if(timeString === \"\"){\r\n                evt = [this.description];\r\n            }\r\n            else {\r\n                evt = [timeString, this.description];\r\n            }\r\n            \r\n            let customEvents = localStorage.getObject(this.calendar.localStorageKey);\r\n            if(customEvents == null) {\r\n                customEvents = {};\r\n            }\r\n\r\n            prepareEventsObject(customEvents, this.day, this.month, this.year);\r\n            \r\n            customEvents[this.year][this.month][this.day].push(evt);\r\n            \r\n            sortEvents(customEvents);\r\n\r\n            localStorage.setObject(this.calendar.localStorageKey, customEvents);\r\n\r\n            this.goToDayView();\r\n        },\r\n        getTimeString() {\r\n\r\n            let timeString = \"\";\r\n            if(this.startTimeHour) {\r\n                timeString += this.startTimeHour + \":\";\r\n\r\n                if(this.startTimeMinute) {\r\n                    timeString += this.startTimeMinute;\r\n                }\r\n                else {\r\n                    timeString += \"00\";\r\n                }\r\n            }\r\n\r\n            if(this.endTimeHour) {\r\n                timeString += \"-\" + this.endTimeHour + \":\";\r\n\r\n                if(this.endTimeMinute) {\r\n                    timeString += this.endTimeMinute;\r\n                }\r\n                else {\r\n                    timeString += \"00\";\r\n                }\r\n            }\r\n\r\n            return timeString;\r\n        },\r\n        goToDayView() {\r\n\r\n            // Remove new part from url\r\n            let calendarPath = this.$route.path.split(\"/\").slice(0, -1).join(\"/\");\r\n            \r\n            let targetPath = [calendarPath, this.year, this.month, this.day].join(\"/\");\r\n            this.$router.push(targetPath);\r\n        }\r\n    }\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.new-event-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    row-gap: 1rem;\r\n\r\n    margin-top: 1rem;\r\n\r\n    label {\r\n        margin: 0.25em 0;\r\n    }\r\n}\r\n\r\n.form-row {\r\n    display: flex;\r\n    flex-direction: row;\r\n    column-gap: 0.25em;\r\n    align-items: center;\r\n\r\n    input, select {\r\n        box-sizing: border-box;\r\n        width: 100%;\r\n    }  \r\n}\r\n\r\nfieldset > legend {\r\n    font-size: 1.5rem;\r\n}\r\n.day-input-container {\r\n    width: 4em;\r\n}\r\n\r\n.month-input-container {\r\n    flex-grow: 1;\r\n}\r\n\r\n.year-input-container {\r\n    width: 6em;\r\n}\r\n\r\n.time-input {\r\n    justify-content: space-between;\r\n\r\n    input {\r\n        width: 4em;\r\n    }\r\n}\r\n\r\n.description-input-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    column-gap: 5px;\r\n\r\n    margin: 0 2px;\r\n}\r\n\r\n</style>","import { render } from \"./CreateCalendarEventView.vue?vue&type=template&id=8867fc94&scoped=true\"\nimport script from \"./CreateCalendarEventView.vue?vue&type=script&lang=js\"\nexport * from \"./CreateCalendarEventView.vue?vue&type=script&lang=js\"\n\nimport \"./CreateCalendarEventView.vue?vue&type=style&index=0&id=8867fc94&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\vansa\\\\Persoonlijk\\\\Programmeren\\\\Projects\\\\dnd-campaign-companion\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8867fc94\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","onSubmit","$options","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$data","id","required","_hoisted_5","_hoisted_6","_Fragment","$props","monthNames","monthName","value","key","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","name","props","calendar","Object","data","day","this","$route","query","month","year","startTimeHour","startTimeMinute","endTimeHour","endTimeMinute","description","mounted","prefetchComponents","Component","methods","event","preventDefault","stopPropagation","evt","timeString","getTimeString","customEvents","localStorage","getObject","localStorageKey","prepareEventsObject","push","sortEvents","setObject","goToDayView","calendarPath","path","split","slice","join","targetPath","$router","__exports__","render"],"sourceRoot":""}