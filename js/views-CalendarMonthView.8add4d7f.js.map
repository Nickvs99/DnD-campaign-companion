{"version":3,"file":"js/views-CalendarMonthView.8add4d7f.js","mappings":"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","sources":["webpack://dnd-campaign-companion/./src/assets/icons/ChevronLeft.vue","webpack://dnd-campaign-companion/./src/assets/icons/ChevronLeft.vue?2f26","webpack://dnd-campaign-companion/./src/assets/icons/ChevronRight.vue","webpack://dnd-campaign-companion/./src/assets/icons/ChevronRight.vue?132d","webpack://dnd-campaign-companion/./src/components/CalendarEvent.vue","webpack://dnd-campaign-companion/./src/components/CalendarEvent.vue?edb5","webpack://dnd-campaign-companion/./src/views/CalendarMonthView.vue","webpack://dnd-campaign-companion/./src/views/CalendarMonthView.vue?e3f1"],"sourcesContent":["<template>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path d=\"M28.05 36 16 23.95 28.05 11.9l2.15 2.15-9.9 9.9 9.9 9.9Z\"/></svg>\r\n</template>","import { render } from \"./ChevronLeft.vue?vue&type=template&id=945b8d88\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\vansa\\\\Persoonlijk\\\\Programmeren\\\\Projects\\\\dnd-campaign-companion\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\"><path d=\"m18.75 36-2.15-2.15 9.9-9.9-9.9-9.9 2.15-2.15L30.8 23.95Z\"/></svg>        \r\n</template>","import { render } from \"./ChevronRight.vue?vue&type=template&id=7d6c51c0\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\vansa\\\\Persoonlijk\\\\Programmeren\\\\Projects\\\\dnd-campaign-companion\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    \r\n<div class=\"calendar-event\"> {{ event[event.length - 1] }} </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: \"CalendarEvent\",\r\n    props: {\r\n        \"event\": {\r\n            type: Object, \r\n            required: true,\r\n        }\r\n    }\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.calendar-event {\r\n    background-color: var(--secondary-color);\r\n    font-size: 0.75rem;\r\n\r\n    // font-size + padding\r\n    min-height: calc(1em + 2px);\r\n\r\n    overflow-x: scroll;\r\n\r\n    border-radius: 2px;\r\n    padding: 1px;\r\n\r\n    white-space: nowrap;\r\n}\r\n\r\n</style>","import { render } from \"./CalendarEvent.vue?vue&type=template&id=4de39ad4&scoped=true\"\nimport script from \"./CalendarEvent.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarEvent.vue?vue&type=script&lang=js\"\n\nimport \"./CalendarEvent.vue?vue&type=style&index=0&id=4de39ad4&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\vansa\\\\Persoonlijk\\\\Programmeren\\\\Projects\\\\dnd-campaign-companion\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4de39ad4\"]])\n\nexport default __exports__","<template>\r\n\r\n<div class=\"calendar-view-container\">\r\n    <div class=\"title-container\">\r\n        <ChevronLeft @click=\"goToPreviousMonth\"/>\r\n        <div class=\"calendar-title\">{{ month }} - {{ year }}</div>\r\n        <ChevronRight @click=\"goToNextMonth\"/>\r\n    </div>\r\n\r\n    <div class=\"calendar-container\">\r\n\r\n        <div class=\"day-name-container\">\r\n            <div v-for=\"dayName in dayNames\" :key=\"dayName\" class=\"day-name calendar-item\">{{dayName.slice(0,3) }}</div>\r\n        </div>\r\n\r\n        <div ref=\"monthContainer\" class=\"month-container\">\r\n            <div v-for=\"day in nDays\" class=\"day-container calendar-item\" :key=\"day\" @click=\"goToDayView(day)\">\r\n                <div class=\"day-count\">{{ day }}</div>\r\n                <div v-if=\"events != null\"  class=\"event-container\">\r\n                    <CalendarEvent v-for=\"evt in events[day]\" :event=\"evt\" :key=\"evt\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport CalendarEvent from \"@/components/CalendarEvent.vue\";\r\nimport ChevronLeft from \"@/assets/icons/ChevronLeft.vue\";\r\nimport ChevronRight from \"@/assets/icons/ChevronRight.vue\";\r\n\r\nimport { getNextMonth, getPreviousMonth, sortEvents } from \"@/router/calendarUtil.js\";\r\nimport { Component } from \"@/router/lazyLoadComponents.js\";\r\nimport { prefetchComponents } from \"@/router/util.js\";\r\n\r\nimport { objectContainsKeys } from \"@/util.js\";\r\n\r\nexport default {\r\n    name: \"CalendarMonthView\",\r\n    components: { CalendarEvent, ChevronLeft, ChevronRight },\r\n    props: {\r\n        calendar: {\r\n            type: Object,\r\n            required: true,\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            year: parseInt(this.$route.params.year),\r\n            month: this.$route.params.month,\r\n            events: {},\r\n            nDays: null,\r\n            nWeeks: null,\r\n            dayNames: null,\r\n        };\r\n    },\r\n    mounted() {\r\n\r\n        prefetchComponents(Component.CalendarDayView);\r\n\r\n        let customEvents = localStorage.getObject(this.calendar.localStorageKey);\r\n\r\n        let keys = [this.year, this.month];\r\n        if(customEvents && objectContainsKeys(customEvents, keys)) {\r\n            this.events = customEvents[this.year][this.month];\r\n        }\r\n\r\n        if(objectContainsKeys(this.calendar.events, keys)) {\r\n\r\n            for(let day in this.calendar.events[this.year][this.month]) {\r\n                let dayEvents = this.calendar.events[this.year][this.month][day];\r\n\r\n                // If there are already events at this date, then add them to the\r\n                // existing\r\n                if(objectContainsKeys(this.events, [day])) {\r\n                    this.events[day].push(...dayEvents);\r\n                }\r\n                else {\r\n                    this.events[day] = dayEvents;\r\n                }\r\n            }\r\n        }\r\n\r\n        sortEvents(this.events);\r\n\r\n        this.nWeeks = this.calendar.weeksPerMonth;\r\n        this.nDays = this.nWeeks * this.calendar.dayNames.length;\r\n        this.dayNames = this.calendar.dayNames;\r\n\r\n        window.addEventListener(\"resize\", this.setCalendarHeight);\r\n        this.setCalendarHeight();\r\n\r\n        // Firefox does not support the :has selector, therefore the styles are manually added\r\n        let el = document.getElementById(\"content-wrapper\");\r\n        let style = window.getComputedStyle(el);\r\n        if(style.overflow != \"visible\") {\r\n            el.classList.add(\"content-wrapper-firefox\");\r\n        }\r\n\r\n    },\r\n    unmounted() {\r\n        window.removeEventListener(\"resize\", this.setCalendarHeight);\r\n        document.getElementById(\"content-wrapper\").classList.remove(\"content-wrapper-firefox\");\r\n    },\r\n    methods: {\r\n        \r\n        /**\r\n         * Sets height such that it fills remaining height to the bottom\r\n         */\r\n        setCalendarHeight() {\r\n            let el = this.$refs.monthContainer;\r\n            el.style.height = (document.documentElement.clientHeight - el.getBoundingClientRect().top) - 1 + \"px\";\r\n        },\r\n        goToDayView(day) {\r\n            let targetPath = this.$route.path + \"/\" + day;\r\n            this.$router.push(targetPath);\r\n        },\r\n        goToDate(monthName, year) {\r\n\r\n            // Remove year and month parts from the url\r\n            let calendarPath = this.$route.path.split(\"/\").slice(0, -2).join(\"/\");\r\n            let targetPath = [calendarPath, year, monthName].join(\"/\");\r\n\r\n            this.$router.push(targetPath);\r\n        },\r\n        goToPreviousMonth() {\r\n\r\n            let monthIndex = this.calendar.monthNames.indexOf(this.month) + 1;\r\n            let [month, year] = getPreviousMonth(monthIndex, this.year, this.calendar);\r\n            let monthName = this.calendar.monthNames[month - 1];\r\n\r\n            this.goToDate(monthName, year); \r\n        },\r\n        goToNextMonth() {\r\n            \r\n            let monthIndex = this.calendar.monthNames.indexOf(this.month) + 1;\r\n            let [month, year] = getNextMonth(monthIndex, this.year, this.calendar);\r\n            let monthName = this.calendar.monthNames[month - 1];\r\n\r\n            this.goToDate(monthName, year);\r\n        }\r\n    },\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n@import \"@/styles/_mixins.scss\";\r\n\r\n@mixin content-wrapper-override {\r\n    // Show overflow since the month container should span the entire width of the screen\r\n    overflow: visible !important;\r\n\r\n    // This still creates a new Block formatting context\r\n    float: left;\r\n}\r\n\r\n.content-wrapper-firefox {    \r\n    @include content-wrapper-override;\r\n}\r\n\r\n#content-wrapper:has(.calendar-view-container) {    \r\n    @include content-wrapper-override;\r\n}\r\n\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n@import \"@/styles/_mixins.scss\";\r\n\r\n.title-container { \r\n    display: flex;\r\n    justify-content: space-around;\r\n    \r\n    margin: 0.75rem 0;\r\n\r\n    svg {\r\n        width: 1.5rem;\r\n    }\r\n}\r\n\r\n.calendar-title {\r\n    font-size: 1.5rem;\r\n}\r\n\r\n.calendar-container {\r\n    // Fill entire width, since each px is valuable\r\n    margin: 0 -5%;\r\n}\r\n\r\n.calendar-item {\r\n    overflow: hidden;\r\n}\r\n\r\n.day-name-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(7, 1fr);\r\n    grid-template-rows: calc(1rem + 4px);\r\n    margin: 2px 0;\r\n}\r\n\r\n.day-name {\r\n    text-align: center;\r\n    font-style: italic;\r\n}\r\n\r\n.month-container {\r\n    @include hide-scrollbar;\r\n\r\n    * {\r\n        @include hide-scrollbar;\r\n    }\r\n\r\n    display: grid;\r\n    grid-template: repeat(4, 1fr) / repeat(7, 1fr);\r\n\r\n    // Removes double borders\r\n    border-top: 1px solid  var(--secondary-color);\r\n    border-left: 1px solid  var(--secondary-color);\r\n}\r\n\r\n.day-container {    \r\n    display: flex;\r\n    flex-direction: column;\r\n    row-gap: 5px;\r\n\r\n    padding: 5px;\r\n\r\n    border-bottom: 1px solid  var(--secondary-color);\r\n    border-right: 1px solid  var(--secondary-color);\r\n}\r\n\r\n.day-count {    \r\n    width: 100%;\r\n\r\n    text-align: center;\r\n    font-weight: bold;;\r\n}\r\n\r\n.event-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    row-gap: 5px;\r\n    \r\n    overflow: scroll;\r\n}\r\n\r\n</style>","import { render } from \"./CalendarMonthView.vue?vue&type=template&id=79beb8ab&scoped=true\"\nimport script from \"./CalendarMonthView.vue?vue&type=script&lang=js\"\nexport * from \"./CalendarMonthView.vue?vue&type=script&lang=js\"\n\nimport \"./CalendarMonthView.vue?vue&type=style&index=0&id=79beb8ab&lang=scss\"\nimport \"./CalendarMonthView.vue?vue&type=style&index=1&id=79beb8ab&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\vansa\\\\Persoonlijk\\\\Programmeren\\\\Projects\\\\dnd-campaign-companion\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-79beb8ab\"]])\n\nexport default __exports__"],"names":["xmlns","viewBox","_createElementVNode","d","_hoisted_2","_createElementBlock","_hoisted_1","script","__exports__","render","class","$props","length","name","props","type","Object","required","ref","_createVNode","_component_ChevronLeft","onClick","$options","_hoisted_3","$data","_component_ChevronRight","_hoisted_4","_hoisted_5","_Fragment","dayName","key","slice","_hoisted_6","day","_hoisted_8","_hoisted_9","evt","_createBlock","_component_CalendarEvent","event","components","CalendarEvent","ChevronLeft","ChevronRight","calendar","data","year","parseInt","this","$route","params","month","events","nDays","nWeeks","dayNames","mounted","prefetchComponents","Component","customEvents","localStorage","getObject","localStorageKey","keys","objectContainsKeys","dayEvents","push","sortEvents","weeksPerMonth","window","addEventListener","setCalendarHeight","el","document","getElementById","style","getComputedStyle","overflow","classList","add","unmounted","removeEventListener","remove","methods","$refs","monthContainer","height","documentElement","clientHeight","getBoundingClientRect","top","goToDayView","targetPath","path","$router","goToDate","monthName","calendarPath","split","join","goToPreviousMonth","monthIndex","monthNames","indexOf","getPreviousMonth","goToNextMonth","getNextMonth"],"sourceRoot":""}